{"ast":null,"code":"import React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport NavBar from '../Navbar/Navbar';\n\nvar AddEvent = function AddEvent() {//   const history = useHistory(); // so that we can redirect after the image upload is successful\n  //   const user = useSelector(state => state.session)\n  //   const dispatch = useDispatch()\n  //   let today = new Date().toISOString().substring(0, 10);\n  //   const [event_imgs, setImage] = useState(\"\");\n  //   const [imageLoading, setImageLoading] = useState(false);\n  //   const [title, setTitle] = useState(\"\")\n  //   const [event_description, setDescription] = useState(\"\")\n  //   const [event_date, setDate] = useState(\"\")\n  //   const [event_city, setCity] = useState(\"\")\n  //   const [event_state, setState] = useState(\"\")\n  //   const [event_zipcode, setZip] = useState(\"\")\n  //   const [category, setCategory] = useState(\"\")\n  //   const [errors, setErrors] = useState([])\n  //   const handleSubmit = async (e) => {\n  //     e.preventDefault();\n  //     const formData = new FormData();\n  //     formData.append(\"event_imgs\", event_imgs);\n  //     formData.append(\"title\", title);\n  //     formData.append(\"event_description\", event_description);\n  //     formData.append(\"event_date\", event_date);\n  //     formData.append(\"event_city\", event_city);\n  //     formData.append(\"event_state\", event_state);\n  //     formData.append(\"event_zipcode\", event_zipcode);\n  //     formData.append(\"category\", category);\n  //     formData.append(\"user_id\", user.id);\n  //     // aws uploads can be a bit slow—displaying\n  //     // some sort of loading message is a good idea\n  //     setImageLoading(true);\n  //     const res = await fetch('/api/events/new', {\n  //         method: \"POST\",\n  //         body: formData,\n  //     });\n  //     if (res.ok) {\n  //         await res.json();\n  //         setImageLoading(false);\n  //         history.push(\"/feed\");\n  //     }\n  //     else {\n  //         setImageLoading(false);\n  //         console.log(\"error\")\n  //     }\n  // }\n  //   const updateImage = (e) => {\n  //       const file = e.target.files[0];\n  //       setImage(file);\n  //   }\n  //   return (\n  //     <>\n  //     <NavBar />\n  //       <h1>Post a new Event</h1>\n  //       <form onSubmit={handleSubmit}>\n  //         <label>Add a photo</label>\n  //           <input\n  //             type=\"file\"\n  //             accept=\"image/*\"\n  //             onChange={updateImage}\n  //           />\n  //           <div>\n  //             <label>Title</label>\n  //             <input\n  //               type='text'\n  //               value={title}\n  //               onChange={(e) => setTitle(e.target.value)}\n  //               required\n  //             />\n  //           </div>\n  //           <div>\n  //             <label>Description</label>\n  //             <input\n  //               type='text'\n  //               value={event_description}\n  //               onChange={(e) => setDescription(e.target.value)}\n  //               required\n  //             />\n  //           </div>\n  //           <div>\n  //             <label>Date</label>\n  //             <input\n  //               type=\"date\"\n  //               format=\"YYYY-MM-DD\"\n  //               value={event_date}\n  //               onChange={(e) => setDate(e.target.value)}\n  //               min={today}\n  //               required\n  //             />\n  //           </div>\n  //           <div>\n  //             <label>City</label>\n  //             <input\n  //               type='text'\n  //               value={event_city}\n  //               onChange={(e) => setCity(e.target.value)}\n  //               required\n  //             />\n  //           </div>\n  //           <div>\n  //             <label>State</label>\n  //             <input\n  //               type='text'\n  //               value={event_state}\n  //               onChange={(e) => setState(e.target.value)}\n  //               required\n  //             />\n  //           </div>\n  //           <div>\n  //             <label>Zip Code</label>\n  //             <input\n  //               type='text'\n  //               value={event_zipcode}\n  //               onChange={(e) => setZip(e.target.value)}\n  //               required\n  //             />\n  //           </div>\n  //           <div>\n  //             <label>Category</label>\n  //             <select\n  //               value={category}\n  //               onChange={(e) => setCategory(e.target.value)}\n  //               required\n  //             >\n  //               <option value=''>--Please choose an option--</option>\n  //               <option value='Sports'>Sports</option>\n  //               <option value='VideoGames'>Video Games</option>\n  //               <option value='Clubbing'>Clubbing</option>\n  //               <option value='Boating'>Boating</option>\n  //               <option value='BoardGames'>Board Games</option>\n  //               <option value='StudyGroups'>Study Groups</option>\n  //               <option value='Other'>Other</option>\n  //             </select>\n  //           </div>\n  //           <button type=\"submit\">Submit</button>\n  //           {(imageLoading)&& <p>Loading...</p>}\n  //       </form>\n};\n\nexport default AddEvent; // import React, {useState} from 'react'\n// import {useDispatch, useSelector} from 'react-redux'\n// import {useHistory} from 'react-router-dom'\n// import {createEvent} from '../../store/event'\n// function AddEvent() {\n//   const user = useSelector(state => state.session)\n//   const dispatch = useDispatch()\n//   const history = useHistory()\n//   const [event_imgs, setImgs] = useState('')\n//   const [title, setTitle] = useState('')\n//   const [event_description, setDescription] = useState('')\n//   const [event_date, setDate] = useState('')\n//   const [event_city, setCity] = useState('')\n//   const [event_state, setState] = useState('')\n//   const [event_zipcode, setZip] = useState('')\n//   const [category, setCategory] = useState('')\n//   const [errors, setErrors] = useState([])\n//   const resetFields = () => {\n//     setImgs('')\n//     setTitle('')\n//     setDescription('')\n//     setDate('')\n//     setCity('')\n//     setState('')\n//     setZip('')\n//     setCategory('')\n//   }\n//   const validateEvent = () => {\n//     const errors = []\n//     if (!event_imgs) errors.push('Please provide a photo')\n//     if (!title) errors.push('Please provide a title')\n//     if (!event_description) errors.push('Please provide a description')\n//     if (!event_date) errors.push('Please provide a date')\n//     if (!event_city) errors.push('Please provide a city')\n//     if (!event_state) errors.push('Please provide a state')\n//     if (!event_zipcode) errors.push('Please provide a zip code')\n//     if (!category) errors.push('Please provide a category')\n//     setErrors(errors)\n//     return errors\n//   }\n//   const handleSubmit = (e) =>  {\n//     e.preventDefault()\n//     const errors = validateEvent()\n//     if(!errors.length){\n//     const event = {\n//       event_imgs,\n//       title,\n//       event_description,\n//       event_date,\n//       event_city: event_city.replace(/\\s+/g, ' ').trim().replace(/\\w\\S*/g, (w) => (w.replace(/^\\w/, (c) => c.toUpperCase()))),\n//       event_state: event_state.replace(/\\s+/g, ' ').trim().replace(/\\w\\S*/g, (w) => (w.replace(/^\\w/, (c) => c.toUpperCase()))),\n//       event_zipcode,\n//       category,\n//       user_id: user.id,\n//       // user_id:1\n//     }\n//     dispatch(createEvent(event))\n//     resetFields()\n//     history.push('/')\n//     }  else {\n//       setErrors(['Failed to create event. Please try again.'])\n//     }\n//   }\n//   return (\n//     <>\n//       <h1>Post a new Event</h1>\n//       <form onSubmit={handleSubmit}>\n//         <ul>\n//           {errors.map((error, idx) => <li key={idx}>{error}</li>)}\n//         </ul>\n//         <div>\n//           <label>Photo Url</label>\n//           <input\n//             type='text'\n//             value={event_imgs}\n//             onChange={(e) => setImgs(e.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           <label>Title</label>\n//           <input\n//             type='text'\n//             value={title}\n//             onChange={(e) => setTitle(e.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           <label>Description</label>\n//           <input\n//             type='text'\n//             value={event_description}\n//             onChange={(e) => setDescription(e.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           <label>Date</label>\n//           <input\n//             type=\"date\"\n//             format=\"YYYY-MM-DD\"\n//             value={event_date}\n//             onChange={(e) => setDate(e.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           <label>City</label>\n//           <input\n//             type='text'\n//             value={event_city}\n//             onChange={(e) => setCity(e.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           <label>State</label>\n//           <input\n//             type='text'\n//             value={event_state}\n//             onChange={(e) => setState(e.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           <label>Zip</label>\n//           <input\n//             type='text'\n//             value={event_zipcode}\n//             onChange={(e) => setZip(e.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           <label>Category</label>\n//           <select\n//             value={category}\n//             onChange={(e) => setCategory(e.target.value)}\n//             required\n//           >\n//             <option value=''>--Please choose an option--</option>\n//             <option selected value='Sports'>Sports</option>\n//             <option value='VideoGames'>Video Games</option>\n//             <option value='Clubbing'>Clubbing</option>\n//             <option value='Boating'>Boating</option>\n//             <option value='BoardGames'>Board Games</option>\n//             <option value='StudyGroups'>Study Groups</option>\n//             <option value='Other'>Other</option>\n//           </select>\n//         </div>\n//         <button type='submit'>Submit</button>\n//       </form>\n//     </>\n//   )\n// }\n// export default AddEvent","map":{"version":3,"names":["React","useState","useDispatch","useSelector","useHistory","NavBar","AddEvent"],"sources":["/Users/andrewfava/Desktop/connectd/react-app/src/components/AddEvent/AddEvent.js"],"sourcesContent":["import React, {useState} from 'react'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {useHistory} from 'react-router-dom'\n\nimport NavBar from '../Navbar/Navbar';\n\nconst AddEvent = () => {\n  //   const history = useHistory(); // so that we can redirect after the image upload is successful\n  //   const user = useSelector(state => state.session)\n  //   const dispatch = useDispatch()\n\n  //   let today = new Date().toISOString().substring(0, 10);\n\n  //   const [event_imgs, setImage] = useState(\"\");\n  //   const [imageLoading, setImageLoading] = useState(false);\n  //   const [title, setTitle] = useState(\"\")\n  //   const [event_description, setDescription] = useState(\"\")\n  //   const [event_date, setDate] = useState(\"\")\n  //   const [event_city, setCity] = useState(\"\")\n  //   const [event_state, setState] = useState(\"\")\n  //   const [event_zipcode, setZip] = useState(\"\")\n  //   const [category, setCategory] = useState(\"\")\n  //   const [errors, setErrors] = useState([])\n\n\n  //   const handleSubmit = async (e) => {\n  //     e.preventDefault();\n  //     const formData = new FormData();\n  //     formData.append(\"event_imgs\", event_imgs);\n  //     formData.append(\"title\", title);\n  //     formData.append(\"event_description\", event_description);\n  //     formData.append(\"event_date\", event_date);\n  //     formData.append(\"event_city\", event_city);\n  //     formData.append(\"event_state\", event_state);\n  //     formData.append(\"event_zipcode\", event_zipcode);\n  //     formData.append(\"category\", category);\n  //     formData.append(\"user_id\", user.id);\n\n\n  //     // aws uploads can be a bit slow—displaying\n  //     // some sort of loading message is a good idea\n\n  //     setImageLoading(true);\n  //     const res = await fetch('/api/events/new', {\n  //         method: \"POST\",\n  //         body: formData,\n  //     });\n  //     if (res.ok) {\n  //         await res.json();\n  //         setImageLoading(false);\n  //         history.push(\"/feed\");\n  //     }\n  //     else {\n  //         setImageLoading(false);\n  //         console.log(\"error\")\n  //     }\n  // }\n\n\n\n\n  //   const updateImage = (e) => {\n  //       const file = e.target.files[0];\n  //       setImage(file);\n  //   }\n\n  //   return (\n  //     <>\n  //     <NavBar />\n  //       <h1>Post a new Event</h1>\n  //       <form onSubmit={handleSubmit}>\n  //         <label>Add a photo</label>\n  //           <input\n  //             type=\"file\"\n  //             accept=\"image/*\"\n  //             onChange={updateImage}\n  //           />\n  //           <div>\n  //             <label>Title</label>\n  //             <input\n  //               type='text'\n  //               value={title}\n  //               onChange={(e) => setTitle(e.target.value)}\n  //               required\n  //             />\n  //           </div>\n  //           <div>\n  //             <label>Description</label>\n  //             <input\n  //               type='text'\n  //               value={event_description}\n  //               onChange={(e) => setDescription(e.target.value)}\n  //               required\n  //             />\n  //           </div>\n  //           <div>\n  //             <label>Date</label>\n  //             <input\n  //               type=\"date\"\n  //               format=\"YYYY-MM-DD\"\n  //               value={event_date}\n  //               onChange={(e) => setDate(e.target.value)}\n  //               min={today}\n  //               required\n  //             />\n  //           </div>\n  //           <div>\n  //             <label>City</label>\n  //             <input\n  //               type='text'\n  //               value={event_city}\n  //               onChange={(e) => setCity(e.target.value)}\n  //               required\n  //             />\n  //           </div>\n  //           <div>\n  //             <label>State</label>\n  //             <input\n  //               type='text'\n  //               value={event_state}\n  //               onChange={(e) => setState(e.target.value)}\n  //               required\n  //             />\n  //           </div>\n  //           <div>\n  //             <label>Zip Code</label>\n  //             <input\n  //               type='text'\n  //               value={event_zipcode}\n  //               onChange={(e) => setZip(e.target.value)}\n  //               required\n  //             />\n  //           </div>\n  //           <div>\n  //             <label>Category</label>\n  //             <select\n  //               value={category}\n  //               onChange={(e) => setCategory(e.target.value)}\n  //               required\n  //             >\n  //               <option value=''>--Please choose an option--</option>\n  //               <option value='Sports'>Sports</option>\n  //               <option value='VideoGames'>Video Games</option>\n  //               <option value='Clubbing'>Clubbing</option>\n  //               <option value='Boating'>Boating</option>\n  //               <option value='BoardGames'>Board Games</option>\n  //               <option value='StudyGroups'>Study Groups</option>\n  //               <option value='Other'>Other</option>\n  //             </select>\n  //           </div>\n  //           <button type=\"submit\">Submit</button>\n  //           {(imageLoading)&& <p>Loading...</p>}\n  //       </form>\n\n}\n\nexport default AddEvent;\n\n\n// import React, {useState} from 'react'\n// import {useDispatch, useSelector} from 'react-redux'\n// import {useHistory} from 'react-router-dom'\n\n// import {createEvent} from '../../store/event'\n\n\n\n// function AddEvent() {\n//   const user = useSelector(state => state.session)\n//   const dispatch = useDispatch()\n//   const history = useHistory()\n\n//   const [event_imgs, setImgs] = useState('')\n//   const [title, setTitle] = useState('')\n//   const [event_description, setDescription] = useState('')\n//   const [event_date, setDate] = useState('')\n//   const [event_city, setCity] = useState('')\n//   const [event_state, setState] = useState('')\n//   const [event_zipcode, setZip] = useState('')\n//   const [category, setCategory] = useState('')\n//   const [errors, setErrors] = useState([])\n\n\n//   const resetFields = () => {\n//     setImgs('')\n//     setTitle('')\n//     setDescription('')\n//     setDate('')\n//     setCity('')\n//     setState('')\n//     setZip('')\n//     setCategory('')\n//   }\n\n//   const validateEvent = () => {\n//     const errors = []\n\n//     if (!event_imgs) errors.push('Please provide a photo')\n//     if (!title) errors.push('Please provide a title')\n//     if (!event_description) errors.push('Please provide a description')\n//     if (!event_date) errors.push('Please provide a date')\n//     if (!event_city) errors.push('Please provide a city')\n//     if (!event_state) errors.push('Please provide a state')\n//     if (!event_zipcode) errors.push('Please provide a zip code')\n//     if (!category) errors.push('Please provide a category')\n\n//     setErrors(errors)\n//     return errors\n//   }\n\n//   const handleSubmit = (e) =>  {\n//     e.preventDefault()\n\n//     const errors = validateEvent()\n\n//     if(!errors.length){\n//     const event = {\n//       event_imgs,\n//       title,\n//       event_description,\n//       event_date,\n//       event_city: event_city.replace(/\\s+/g, ' ').trim().replace(/\\w\\S*/g, (w) => (w.replace(/^\\w/, (c) => c.toUpperCase()))),\n//       event_state: event_state.replace(/\\s+/g, ' ').trim().replace(/\\w\\S*/g, (w) => (w.replace(/^\\w/, (c) => c.toUpperCase()))),\n//       event_zipcode,\n//       category,\n//       user_id: user.id,\n//       // user_id:1\n//     }\n\n//     dispatch(createEvent(event))\n//     resetFields()\n//     history.push('/')\n\n//     }  else {\n//       setErrors(['Failed to create event. Please try again.'])\n//     }\n//   }\n\n\n//   return (\n//     <>\n//       <h1>Post a new Event</h1>\n//       <form onSubmit={handleSubmit}>\n//         <ul>\n//           {errors.map((error, idx) => <li key={idx}>{error}</li>)}\n//         </ul>\n//         <div>\n//           <label>Photo Url</label>\n//           <input\n//             type='text'\n//             value={event_imgs}\n//             onChange={(e) => setImgs(e.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           <label>Title</label>\n//           <input\n//             type='text'\n//             value={title}\n//             onChange={(e) => setTitle(e.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           <label>Description</label>\n//           <input\n//             type='text'\n//             value={event_description}\n//             onChange={(e) => setDescription(e.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           <label>Date</label>\n//           <input\n//             type=\"date\"\n//             format=\"YYYY-MM-DD\"\n//             value={event_date}\n//             onChange={(e) => setDate(e.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           <label>City</label>\n//           <input\n//             type='text'\n//             value={event_city}\n//             onChange={(e) => setCity(e.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           <label>State</label>\n//           <input\n//             type='text'\n//             value={event_state}\n//             onChange={(e) => setState(e.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           <label>Zip</label>\n//           <input\n//             type='text'\n//             value={event_zipcode}\n//             onChange={(e) => setZip(e.target.value)}\n//             required\n//           />\n//         </div>\n//         <div>\n//           <label>Category</label>\n//           <select\n//             value={category}\n//             onChange={(e) => setCategory(e.target.value)}\n//             required\n//           >\n//             <option value=''>--Please choose an option--</option>\n//             <option selected value='Sports'>Sports</option>\n//             <option value='VideoGames'>Video Games</option>\n//             <option value='Clubbing'>Clubbing</option>\n//             <option value='Boating'>Boating</option>\n//             <option value='BoardGames'>Board Games</option>\n//             <option value='StudyGroups'>Study Groups</option>\n//             <option value='Other'>Other</option>\n//           </select>\n//         </div>\n//         <button type='submit'>Submit</button>\n//       </form>\n//     </>\n//   )\n// }\n\n// export default AddEvent\n"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AAEA,OAAOC,MAAP,MAAmB,kBAAnB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,GAAM,CACrB;EACA;EACA;EAEA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAGA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAGA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAKA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;AAED,CApJD;;AAsJA,eAAeA,QAAf,C,CAGA;AACA;AACA;AAEA;AAIA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module"}